
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Don't Fret | Guitar Theory</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;700&display=swap" rel="stylesheet">
    <style>
        :root { --bg: #080808; --prime: #bcff00; --panel: #141414; --text: #fff; }
        body { font-family: 'Outfit', sans-serif; background: var(--bg); color: var(--text); margin: 0; display: flex; align-items: center; justify-content: center; min-height: 100vh; }
        #stage { width: 90%; max-width: 400px; padding-bottom: 50px; }
        
        /* The Focal Point: Knowledge Card */
        .fact-card { background: linear-gradient(145deg, #1a1a1a, #111); padding: 35px 30px; border-radius: 28px; border: 1px solid #222; margin-bottom: 25px; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        .label { font-size: 0.7rem; color: var(--prime); letter-spacing: 2px; text-transform: uppercase; margin-bottom: 15px; display: block; opacity: 0.8; }
        .instruction { font-size: 1.4rem; font-weight: 700; line-height: 1.4; margin: 0; }
        .data-point { color: var(--prime); background: rgba(188, 255, 0, 0.15); padding: 2px 8px; border-radius: 6px; border: 1px solid rgba(188, 255, 0, 0.2); }

        /* The Challenge Section */
        .q-text { font-size: 0.9rem; opacity: 0.4; margin-bottom: 20px; display: block; text-align: center; letter-spacing: 1px; }
        .opt { width: 100%; padding: 22px; margin-bottom: 12px; border-radius: 18px; border: 1px solid #2a2a2a; background: rgba(255,255,255,0.02); color: #fff; cursor: pointer; font-size: 1.1rem; transition: 0.2s; font-family: inherit; }
        .opt:hover { border-color: #444; background: rgba(255,255,255,0.05); }
        .opt.correct { background: var(--prime); color: #000; border-color: var(--prime); font-weight: 700; }
        
        .next-btn { display: none; width: 100%; padding: 22px; border-radius: 50px; border: none; background: #fff; color: #000; font-weight: 700; cursor: pointer; margin-top: 15px; box-shadow: 0 10px 30px rgba(255,255,255,0.1); }
        #mute { position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%); background: none; border: none; color: #444; cursor: pointer; font-size: 0.7rem; letter-spacing: 1px; }
    </style>
</head>
<body>

<div id="stage"></div>
<button id="mute" onclick="toggleMute()">SOUND: OFF</button>

<script>
    let current = 0;
    let isMuted = true;
    const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

    const data = [
        {
            title: "The Octave Loop",
            info: "The guitar neck is a circle. The <span class='data-point'>12th fret</span> is the mirror where every note name repeats.",
            q: "Which fret number acts as the mirror for open strings?",
            opts: ["10th Fret", "12th Fret"],
            ans: "12th Fret"
        },
        {
            title: "The Natural Gap",
            info: "Most notes are 2 frets apart. However, <span class='data-point'>E and F</span> have zero gapâ€”they touch.",
            q: "How many frets are between E and F?",
            opts: ["Zero", "One"],
            ans: "Zero"
        },
        {
            title: "Geometric Chords",
            info: "A Power Chord is a rigid 'shape.' To change the key, you simply <span class='data-point'>slide the fret</span> without moving your fingers.",
            q: "To play a different key, do you change the shape or slide it?",
            opts: ["Change Shape", "Slide it"],
            ans: "Slide it"
        },
        {
            title: "Octave Teleport",
            info: "To find the same note higher up, go <span class='data-point'>down 2 strings</span> and over 2 frets.",
            q: "How many strings 'down' do you jump for an octave?",
            opts: ["1 String", "2 Strings"],
            ans: "2 Strings"
        },
        {
            title: "Mastery",
            info: "You've decoded the grid. The fretboard is now your playground.",
            q: "Ready to start over?",
            opts: ["Restart Session"],
            ans: "Restart Session"
        }
    ];

    function draw() {
        const item = data[current];
        const stage = document.getElementById('stage');
        stage.innerHTML = `
            <div class="fact-card">
                <span class="label">${item.title}</span>
                <p class="instruction">${item.info}</p>
            </div>
            <div class="challenge-box">
                <span class="q-text">CHALLENGE</span>
                ${item.opts.map(o => `<button class="opt" onclick="check(this, '${o}')">${o}</button>`).join('')}
                <button id="next" class="next-btn" onclick="next()">Continue</button>
            </div>
        `;
    }

    function check(btn, val) {
        if(audioCtx.state === 'suspended') audioCtx.resume();
        if (val === data[current].ans || current === 4) {
            btn.classList.add('correct');
            if(current < 4) document.getElementById('next').style.display = 'block';
            else setTimeout(() => { current = 0; draw(); }, 1000);
            beep(600, 800, 0.1);
        } else {
            btn.style.borderColor = "#ff4757";
            btn.style.color = "#ff4757";
            beep(200, 100, 0.1);
            setTimeout(() => { btn.style.borderColor = "#2a2a2a"; btn.style.color = "#fff"; }, 500);
        }
    }

    function next() { current++; draw(); beep(400, 900, 0.1); }
    function toggleMute() { isMuted = !isMuted; document.getElementById('mute').innerText = isMuted ? "SOUND: OFF" : "SOUND: ON"; }
    function beep(s, e, d) {
        if (isMuted) return;
        const o = audioCtx.createOscillator(); const g = audioCtx.createGain();
        o.connect(g); g.connect(audioCtx.destination);
        o.frequency.setValueAtTime(s, audioCtx.currentTime);
        o.frequency.exponentialRampToValueAtTime(e, audioCtx.currentTime + d);
        g.gain.setValueAtTime(0.05, audioCtx.currentTime);
        g.gain.exponentialRampToValueAtTime(0.001, audioCtx.currentTime + d);
        o.start(); o.stop(audioCtx.currentTime + d);
    }

    draw();
</script>
</body>
</html>
